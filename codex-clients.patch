 (cd "$(git rev-parse --show-toplevel)" && git apply --3way <<'EOF' 
diff --git a/web/src/App.tsx b/web/src/App.tsx
index 103faa567626dc65d1f637501a8d6be7b33b4f84..0fa1075fa8f8ad19aa4f789602d76b2a78274a7a 100644
--- a/web/src/App.tsx
+++ b/web/src/App.tsx
@@ -1,63 +1,60 @@
 import React, { useState } from 'react';
 import { Sidebar } from './components/Sidebar';
 import { PosProvider } from './context/PosContext';
 import { ProductsPage } from './pages/ProductsPage';
 import { PosPage } from './pages/PosPage';
 import { DashboardPage } from './pages/DashboardPage';
 import { FinancePage } from './pages/FinancePage';
 import { ClientsPage } from './pages/ClientsPage';
 import { CreditsPage } from './pages/CreditsPage';
 import { FridgesPage } from './pages/FridgesPage';
 import { MaterialsPage } from './pages/MaterialsPage';
 import { SalesPage } from './pages/SalesPage';
-import { SalesPage } from './pages/SalesPage';
 
 const views = {
   dashboard: <DashboardPage />,
   pos: <PosPage />,
   products: <ProductsPage />,
   finances: <FinancePage />,
   clients: <ClientsPage />,
   credits: <CreditsPage />,
   fridges: <FridgesPage />,
   materials: <MaterialsPage />,
   sales: <SalesPage />,
-  sales: <SalesPage />,
 };
 
 const titles: Record<string, string> = {
   dashboard: 'Panel general',
   pos: 'Punto de venta',
   products: 'Productos',
   finances: 'Finanzas',
   clients: 'Clientes',
   credits: 'Créditos',
   fridges: 'Refris',
   materials: 'Materias primas',
   sales: 'Ventas',
-  sales: 'Ventas',
 };
 
 const AppContent: React.FC = () => {
   const [view, setView] = useState<keyof typeof views>('dashboard');
 
   return (
     <div className="h-screen flex bg-cream">
       <Sidebar current={view} onSelect={setView} />
       <main className="flex-1 overflow-y-auto">
         <header className="flex items-center justify-between p-6 sticky top-0 bg-cream/90 backdrop-blur border-b border-cream/80">
           <div>
             <p className="text-xs uppercase text-coffee/60 font-semibold">Hedelmiá POS</p>
             <h1 className="text-2xl font-bold">{titles[view]}</h1>
           </div>
           <div className="px-4 py-2 rounded-lg bg-white shadow-card text-sm">Modo offline / localStorage</div>
         </header>
         <div className="p-6">{views[view]}</div>
       </main>
     </div>
   );
 };
 
 const App: React.FC = () => (
   <PosProvider>
     <AppContent />
diff --git a/web/src/context/PosContext.tsx b/web/src/context/PosContext.tsx
index 1216a76e7bfb4f64d2dd6e64114945b468145c0c..762bbd4f6d3ebe1dc012dc779f4fba0ea7a50e2b 100644
--- a/web/src/context/PosContext.tsx
+++ b/web/src/context/PosContext.tsx
@@ -13,147 +13,159 @@ export type SaleItem = {
   name: string;
   price: number;
   quantity: number;
 };
 
 export type Sale = {
   id: string;
   items: SaleItem[];
   total: number;
   date: string;
 };
 
 export type FinanceMovement = {
   id: string;
   box: 'chica' | 'grande';
   kind: 'entrada' | 'salida';
   amount: number;
   concept: string;
   date: string;
   source?: 'manual' | 'venta';
 };
 
 export type Client = {
   id: string;
   name: string;
+  phone: string;
+  address: string;
   active: boolean;
   notes: string;
 };
 
 export type CreditPayment = {
   id: string;
   amount: number;
   date: string;
   note?: string;
 };
 
 export type Credit = {
   id: string;
   clientId: string;
   amount: number;
   date: string;
   status: 'pendiente' | 'pagado';
   payments: CreditPayment[];
 };
 
 export type FridgeLoan = {
   id: string;
   clientId: string;
   quantity: number;
   deliveryDate: string;
   status: 'entregado' | 'devuelto';
+  returnDate?: string;
 };
 
 export type RawMaterial = {
   id: string;
   name: string;
   stock: number;
   minStock: number;
 };
 
 export type RawMaterialMovement = {
   id: string;
   materialId: string;
   type: 'entrada' | 'salida';
   amount: number;
   note: string;
   date: string;
 };
 
 type SalePayload = { productId: string; quantity: number }[];
 
 type PosContextValue = {
   products: Product[];
   sales: Sale[];
   financeMovements: FinanceMovement[];
   clients: Client[];
   credits: Credit[];
   fridgeLoans: FridgeLoan[];
   rawMaterials: RawMaterial[];
   rawMaterialMovements: RawMaterialMovement[];
   addProduct: (product: Omit<Product, 'id'>) => void;
   updateProduct: (id: string, changes: Partial<Omit<Product, 'id'>>) => void;
   deleteProduct: (id: string) => void;
   recordSale: (items: SalePayload) => { success: boolean; message?: string };
   addFinanceMovement: (movement: Omit<FinanceMovement, 'id'>) => void;
   addClient: (client: Omit<Client, 'id'>) => void;
   updateClient: (id: string, changes: Partial<Omit<Client, 'id'>>) => void;
   deleteClient: (id: string) => void;
   addCredit: (credit: Omit<Credit, 'id' | 'payments' | 'status'>) => void;
   addCreditPayment: (creditId: string, payment: Omit<CreditPayment, 'id'>) => void;
   updateCreditStatus: (creditId: string, status: Credit['status']) => void;
-  addFridgeLoan: (loan: Omit<FridgeLoan, 'id' | 'status'>) => void;
+  addFridgeLoan: (loan: Omit<FridgeLoan, 'id' | 'status' | 'returnDate'>) => void;
   markFridgeReturned: (loanId: string) => void;
   addRawMaterial: (material: Omit<RawMaterial, 'id'>) => void;
   updateRawMaterial: (id: string, changes: Partial<Omit<RawMaterial, 'id'>>) => void;
   deleteRawMaterial: (id: string) => void;
   recordMaterialMovement: (movement: Omit<RawMaterialMovement, 'id'>) => { success: boolean; message?: string };
 };
 
 const PosContext = createContext<PosContextValue | null>(null);
 const PRODUCTS_KEY = 'hedelmia_products';
 const SALES_KEY = 'hedelmia_sales';
 const FINANCE_KEY = 'hedelmia_finance';
 const CLIENTS_KEY = 'hedelmia_clients';
 const CREDITS_KEY = 'hedelmia_credits';
 const FRIDGES_KEY = 'hedelmia_fridge_loans';
 const RAW_MATERIALS_KEY = 'hedelmia_raw_materials';
 const RAW_MATERIAL_MOVEMENTS_KEY = 'hedelmia_raw_material_movements';
 
 function generateId() {
   return typeof crypto !== 'undefined' && 'randomUUID' in crypto
     ? crypto.randomUUID()
     : Math.random().toString(36).slice(2, 10);
 }
 
 export const PosProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
   const [products, setProducts] = useState<Product[]>(() => loadFromStorage(PRODUCTS_KEY, []));
   const [sales, setSales] = useState<Sale[]>(() => loadFromStorage(SALES_KEY, []));
   const [financeMovements, setFinanceMovements] = useState<FinanceMovement[]>(
     () => loadFromStorage(FINANCE_KEY, []),
   );
-  const [clients, setClients] = useState<Client[]>(() => loadFromStorage(CLIENTS_KEY, []));
+  const [clients, setClients] = useState<Client[]>(() => {
+    const storedClients = loadFromStorage<Client[]>(CLIENTS_KEY, []);
+    if (!Array.isArray(storedClients)) return [];
+
+    return storedClients.map((client) => ({
+      ...client,
+      phone: client.phone ?? '',
+      address: client.address ?? '',
+    }));
+  });
   const [credits, setCredits] = useState<Credit[]>(() => loadFromStorage(CREDITS_KEY, []));
   const [fridgeLoans, setFridgeLoans] = useState<FridgeLoan[]>(() => loadFromStorage(FRIDGES_KEY, []));
   const [rawMaterials, setRawMaterials] = useState<RawMaterial[]>(
     () => loadFromStorage(RAW_MATERIALS_KEY, []),
   );
   const [rawMaterialMovements, setRawMaterialMovements] = useState<RawMaterialMovement[]>(
     () => loadFromStorage(RAW_MATERIAL_MOVEMENTS_KEY, []),
   );
 
   useEffect(() => {
     const syncFromStorage = () => {
       setProducts(loadFromStorage(PRODUCTS_KEY, []));
       setSales(loadFromStorage(SALES_KEY, []));
     };
 
     syncFromStorage();
     window.addEventListener('storage', syncFromStorage);
     return () => window.removeEventListener('storage', syncFromStorage);
   }, []);
 
   useEffect(() => {
     saveToStorage(PRODUCTS_KEY, products);
   }, [products]);
 
   useEffect(() => {
@@ -268,57 +280,59 @@ export const PosProvider: React.FC<{ children: React.ReactNode }> = ({ children
   };
 
   const addCredit = (credit: Omit<Credit, 'id' | 'payments' | 'status'>) => {
     const payload: Credit = { ...credit, id: generateId(), status: 'pendiente', payments: [] };
     setCredits((prev) => [...prev, payload]);
   };
 
   const updateCreditStatus = (creditId: string, status: Credit['status']) => {
     setCredits((prev) => prev.map((credit) => (credit.id === creditId ? { ...credit, status } : credit)));
   };
 
   const addCreditPayment = (creditId: string, payment: Omit<CreditPayment, 'id'>) => {
     setCredits((prev) =>
       prev.map((credit) => {
         if (credit.id !== creditId) return credit;
 
         const updatedPayments = [...credit.payments, { ...payment, id: generateId() }];
         const paid = updatedPayments.reduce((acc, current) => acc + current.amount, 0);
         const remaining = credit.amount - paid;
         const nextStatus = remaining <= 0 ? 'pagado' : credit.status;
         return { ...credit, payments: updatedPayments, status: nextStatus };
       }),
     );
   };
 
-  const addFridgeLoan = (loan: Omit<FridgeLoan, 'id' | 'status'>) => {
+  const addFridgeLoan = (loan: Omit<FridgeLoan, 'id' | 'status' | 'returnDate'>) => {
     setFridgeLoans((prev) => [...prev, { ...loan, id: generateId(), status: 'entregado' }]);
   };
 
   const markFridgeReturned = (loanId: string) => {
     setFridgeLoans((prev) =>
-      prev.map((loan) => (loan.id === loanId ? { ...loan, status: 'devuelto' } : loan)),
+      prev.map((loan) =>
+        loan.id === loanId ? { ...loan, status: 'devuelto', returnDate: new Date().toISOString() } : loan,
+      ),
     );
   };
 
   const addRawMaterial = (material: Omit<RawMaterial, 'id'>) => {
     setRawMaterials((prev) => [...prev, { ...material, id: generateId() }]);
   };
 
   const updateRawMaterial = (id: string, changes: Partial<Omit<RawMaterial, 'id'>>) => {
     setRawMaterials((prev) => prev.map((item) => (item.id === id ? { ...item, ...changes } : item)));
   };
 
   const deleteRawMaterial = (id: string) => {
     setRawMaterials((prev) => prev.filter((item) => item.id !== id));
     setRawMaterialMovements((prev) => prev.filter((movement) => movement.materialId !== id));
   };
 
   const recordMaterialMovement = (movement: Omit<RawMaterialMovement, 'id'>) => {
     const material = rawMaterials.find((item) => item.id === movement.materialId);
     if (!material) return { success: false, message: 'Materia prima no encontrada' };
 
     const delta = movement.type === 'entrada' ? movement.amount : -movement.amount;
     const newStock = material.stock + delta;
 
     if (newStock < 0) return { success: false, message: 'No puedes tener stock negativo' };
 
diff --git a/web/src/pages/ClientsPage.tsx b/web/src/pages/ClientsPage.tsx
index 93aa722aa43e613c2582f725631216f3e40bfdfe..a5940ab9e4770cf8e4f6298b62cd7a5f94757340 100644
--- a/web/src/pages/ClientsPage.tsx
+++ b/web/src/pages/ClientsPage.tsx
@@ -1,149 +1,296 @@
-import React, { useMemo, useState } from 'react';
+import React, { useEffect, useMemo, useState } from 'react';
 import { CheckCircleIcon, XCircleIcon } from '@heroicons/react/24/solid';
 import { usePos, Client } from '../context/PosContext';
 
-const emptyClient: Omit<Client, 'id'> = { name: '', active: true, notes: '' };
+const emptyClient: Omit<Client, 'id'> = { name: '', phone: '', address: '', active: true, notes: '' };
 
 export const ClientsPage: React.FC = () => {
-  const { clients, addClient, updateClient, deleteClient } = usePos();
+  const { clients, fridgeLoans, addClient, updateClient, deleteClient } = usePos();
   const [form, setForm] = useState<Omit<Client, 'id'>>(emptyClient);
   const [editingId, setEditingId] = useState<string | null>(null);
+  const [selectedClientId, setSelectedClientId] = useState<string | null>(null);
+  const [showActiveOnly, setShowActiveOnly] = useState(true);
 
   const sortedClients = useMemo(
     () => [...clients].sort((a, b) => a.name.localeCompare(b.name)),
     [clients],
   );
 
+  useEffect(() => {
+    if (!sortedClients.length) {
+      setSelectedClientId(null);
+      return;
+    }
+
+    if (!selectedClientId || !sortedClients.find((client) => client.id === selectedClientId)) {
+      setSelectedClientId(sortedClients[0].id);
+    }
+  }, [sortedClients, selectedClientId]);
+
+  const selectedClient = useMemo(
+    () => sortedClients.find((client) => client.id === selectedClientId) ?? null,
+    [selectedClientId, sortedClients],
+  );
+
+  const clientLoans = useMemo(
+    () => fridgeLoans.filter((loan) => loan.clientId === selectedClientId),
+    [fridgeLoans, selectedClientId],
+  );
+
+  const filteredLoans = useMemo(
+    () => (showActiveOnly ? clientLoans.filter((loan) => loan.status === 'entregado') : clientLoans),
+    [clientLoans, showActiveOnly],
+  );
+
   const handleSubmit = (event: React.FormEvent) => {
     event.preventDefault();
     if (!form.name.trim()) return;
 
     if (editingId) {
       updateClient(editingId, form);
     } else {
       addClient(form);
     }
 
     setForm(emptyClient);
     setEditingId(null);
   };
 
   const startEdit = (client: Client) => {
     setEditingId(client.id);
-    setForm({ name: client.name, active: client.active, notes: client.notes });
+    setForm({
+      name: client.name,
+      phone: client.phone,
+      address: client.address,
+      active: client.active,
+      notes: client.notes,
+    });
   };
 
   const cancelEdit = () => {
     setEditingId(null);
     setForm(emptyClient);
   };
 
   return (
     <div className="space-y-4">
       <div className="card p-6">
         <div className="flex items-center justify-between mb-4">
           <h2 className="text-xl font-semibold">{editingId ? 'Editar cliente' : 'Nuevo cliente'}</h2>
           {editingId && (
             <button onClick={cancelEdit} className="text-sm text-accent underline">
               Cancelar edición
             </button>
           )}
         </div>
         <form onSubmit={handleSubmit} className="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
           <label className="flex flex-col gap-1 text-sm font-medium md:col-span-2">
             Nombre
             <input
               className="border border-cream rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mint"
               value={form.name}
               onChange={(e) => setForm((prev) => ({ ...prev, name: e.target.value }))}
               required
             />
           </label>
+          <label className="flex flex-col gap-1 text-sm font-medium">
+            Teléfono
+            <input
+              className="border border-cream rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mint"
+              value={form.phone}
+              onChange={(e) => setForm((prev) => ({ ...prev, phone: e.target.value }))}
+              placeholder="Opcional"
+            />
+          </label>
+          <label className="flex flex-col gap-1 text-sm font-medium md:col-span-2">
+            Dirección
+            <input
+              className="border border-cream rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mint"
+              value={form.address}
+              onChange={(e) => setForm((prev) => ({ ...prev, address: e.target.value }))}
+              placeholder="Opcional"
+            />
+          </label>
           <label className="flex flex-col gap-1 text-sm font-medium">
             Notas
             <input
               className="border border-cream rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-mint"
               value={form.notes}
               onChange={(e) => setForm((prev) => ({ ...prev, notes: e.target.value }))}
             />
           </label>
           <label className="flex items-center gap-2 text-sm font-medium">
             <input
               type="checkbox"
               checked={form.active}
               onChange={(e) => setForm((prev) => ({ ...prev, active: e.target.checked }))}
             />
             Activo
           </label>
           <button type="submit" className="btn-primary md:col-span-4">
             {editingId ? 'Guardar cambios' : 'Agregar cliente'}
           </button>
         </form>
       </div>
 
       <div className="card p-6">
         <div className="flex items-center justify-between mb-4">
           <h2 className="text-xl font-semibold">Clientes</h2>
           <span className="text-sm text-coffee/70">{clients.length} registrados</span>
         </div>
         <div className="overflow-x-auto">
           <table className="min-w-full text-sm">
             <thead>
               <tr className="text-left text-coffee/70">
                 <th className="pb-2">Nombre</th>
                 <th className="pb-2">Estado</th>
+                <th className="pb-2">Teléfono</th>
+                <th className="pb-2">Dirección</th>
                 <th className="pb-2">Notas</th>
                 <th className="pb-2">Acciones</th>
               </tr>
             </thead>
             <tbody className="divide-y divide-cream">
               {sortedClients.map((client) => (
-                <tr key={client.id} className="hover:bg-cream/60">
+                <tr
+                  key={client.id}
+                  className={`hover:bg-cream/60 ${selectedClientId === client.id ? 'bg-cream/50' : ''}`}
+                  onClick={() => setSelectedClientId(client.id)}
+                >
                   <td className="py-3 font-medium">{client.name}</td>
                   <td className="py-3">
                     <span
                       className={`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${
                         client.active ? 'bg-mint/30 text-accent' : 'bg-blush/40 text-coffee'
                       }`}
                     >
                       {client.active ? (
                         <CheckCircleIcon className="h-4 w-4" />
                       ) : (
                         <XCircleIcon className="h-4 w-4" />
                       )}
                       {client.active ? 'Activo' : 'Inactivo'}
                     </span>
                   </td>
+                  <td className="py-3 text-coffee/80">{client.phone || '-'}</td>
+                  <td className="py-3 text-coffee/80">{client.address || '-'}</td>
                   <td className="py-3 text-coffee/80">{client.notes || '-'}</td>
                   <td className="py-3">
                     <div className="flex gap-2">
                       <button
                         onClick={() => startEdit(client)}
                         className="px-3 py-2 rounded-lg bg-cream text-coffee hover:bg-blush/50 text-xs font-semibold"
                       >
                         Editar
                       </button>
                       <button
                         onClick={() => deleteClient(client.id)}
                         className="px-3 py-2 rounded-lg bg-cream text-coffee hover:bg-blush/50 text-xs font-semibold"
                       >
                         Eliminar
                       </button>
                     </div>
                   </td>
                 </tr>
               ))}
               {!sortedClients.length && (
                 <tr>
-                  <td colSpan={4} className="py-6 text-center text-coffee/70">
+                  <td colSpan={6} className="py-6 text-center text-coffee/70">
                     Aún no hay clientes.
                   </td>
                 </tr>
               )}
             </tbody>
           </table>
         </div>
       </div>
+
+      <div className="card p-6 space-y-4">
+        <div className="flex items-center justify-between">
+          <h2 className="text-xl font-semibold">Detalle del cliente</h2>
+          <div className="flex items-center gap-2 text-sm text-coffee/70">
+            <span className="font-semibold">Refris del cliente</span>
+            <div className="flex rounded-lg overflow-hidden border border-cream text-xs font-semibold">
+              <button
+                className={`px-3 py-1 ${showActiveOnly ? 'bg-mint/20 text-accent' : 'bg-white text-coffee'}`}
+                onClick={() => setShowActiveOnly(true)}
+              >
+                Activos
+              </button>
+              <button
+                className={`px-3 py-1 ${!showActiveOnly ? 'bg-mint/20 text-accent' : 'bg-white text-coffee'}`}
+                onClick={() => setShowActiveOnly(false)}
+              >
+                Todos
+              </button>
+            </div>
+          </div>
+        </div>
+
+        {!selectedClient && <p className="text-sm text-coffee/70">Selecciona o crea un cliente.</p>}
+
+        {selectedClient && (
+          <>
+            <div className="grid grid-cols-1 md:grid-cols-4 gap-4 text-sm">
+              <div className="md:col-span-2">
+                <p className="text-coffee/70">Nombre</p>
+                <p className="font-semibold">{selectedClient.name}</p>
+              </div>
+              <div>
+                <p className="text-coffee/70">Teléfono</p>
+                <p className="font-semibold">{selectedClient.phone || 'No registrado'}</p>
+              </div>
+              <div>
+                <p className="text-coffee/70">Dirección</p>
+                <p className="font-semibold">{selectedClient.address || 'No registrada'}</p>
+              </div>
+              <div>
+                <p className="text-coffee/70">Estado</p>
+                <p className="font-semibold">{selectedClient.active ? 'Activo' : 'Inactivo'}</p>
+              </div>
+              <div className="md:col-span-3">
+                <p className="text-coffee/70">Notas</p>
+                <p className="font-semibold">{selectedClient.notes || 'Sin notas'}</p>
+              </div>
+            </div>
+
+            <div className="space-y-3">
+              {!filteredLoans.length && (
+                <p className="text-sm text-coffee/70">No hay refris para este cliente con el filtro seleccionado.</p>
+              )}
+
+              {filteredLoans
+                .sort((a, b) => new Date(b.deliveryDate).getTime() - new Date(a.deliveryDate).getTime())
+                .map((loan) => (
+                  <div
+                    key={loan.id}
+                    className="border border-cream rounded-lg p-4 bg-white shadow-sm flex flex-wrap items-center justify-between gap-4"
+                  >
+                    <div>
+                      <p className="text-xs text-coffee/70">Entrega: {new Date(loan.deliveryDate).toLocaleDateString()}</p>
+                      <p className="font-semibold">Refrigerador en comodato</p>
+                      <p className="text-sm text-coffee/70">Cantidad: {loan.quantity}</p>
+                    </div>
+                    <div className="flex flex-col gap-2 text-sm items-end">
+                      <span
+                        className={`px-3 py-1 rounded-full text-xs font-semibold ${
+                          loan.status === 'entregado' ? 'bg-mint/30 text-accent' : 'bg-blush/40 text-coffee'
+                        }`}
+                      >
+                        {loan.status === 'entregado' ? 'Activo' : 'Devuelto'}
+                      </span>
+                      {loan.status === 'devuelto' && (
+                        <p className="text-xs text-coffee/70">
+                          Devuelto: {loan.returnDate ? new Date(loan.returnDate).toLocaleDateString() : 'No registrada'}
+                        </p>
+                      )}
+                    </div>
+                  </div>
+                ))}
+            </div>
+          </>
+        )}
+      </div>
     </div>
   );
 };
 
EOF
)
